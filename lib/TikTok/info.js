exports.name = '/tiktok/info';
const axios = require('axios');
const useragent = require('../Other/data/useragent.json');
exports.index = async (req, res, next) => {
  const { username } = req.query
  var headers = {
    "User-Agent": (useragent[Math.floor(Math.random() * useragent.length)]).userAgent,
    "cookie": `tt_csrf_token=y3oFsTUf-nvJa6cP13L-bNIN0Vr0xJKhnWls;_abck=CCE430500DE7DEB432DC7D8C42CA15B8~-1~YAAQDDPqfekzv2yCAQAAeZU4qghHhZ+6RwpdhmbEMIq8c9DGMEFsk6OuT/1EctqLaewbZ7ywbkNFxCGxkM/Twus/jjtu4zchBT0fS2c2EmlDAIV7VeDIeiNnbD0iACqUa24fXltdHB4i6S0h6g+VUeMH/NXYz5qmB6S/2Gj2P8eS2S5zy4URv3qMxfOJ8KedF3IhHqOpyExj1ZNIfFNkODsWY6ZTQyrqt5qPuOQyAc3D1JHsj6eYTwL5T9U4S7ZRfjAO4DyITY7V7ACTbMVNb52GjUjN6gnA8n67EyFIbU7vawRgK9c0JUzxZPm4hlvjKYEB6Z3cLnliZMzNv/vBXR1YzMSMVvTvEKaQV8QKhN522aimV1kWxVDbKK0=~-1~-1~-1;csrf_session_id=6f58616c0f28b0bf4ea4dfc8c82358a6;_ttp=2Fzsjd9WNTOijtrAaxISASu8nbK;__tea_cache_tokens_1988={%22_type_%22:%22default%22%2C%22user_unique_id%22:%227175928646355174914%22%2C%22timestamp%22:1670776139067};passport_csrf_token=f2d8e9c2fdf459f4e58d8571645af5e2;passport_csrf_token_default=f2d8e9c2fdf459f4e58d8571645af5e2;s_v_web_id=verify_lbjkz4dl_Q9VOA7e8_Jqrj_4hLh_9kes_pHMHNkeaovtZ;tt_chain_token=kckr7EV70Mg2RaLxMWsR9Q==;tiktok_webapp_theme=dark;cmpl_token=AgQQAPOFF-RO0osU9aEFcJk4-fecJiQT_4AOYMt-dQ;passport_auth_status=bc58933138ad88efde98c3a43370e3a1%2Ca9623959a0c06f7ca2c6115c9d9cec98;passport_auth_status_ss=bc58933138ad88efde98c3a43370e3a1%2Ca9623959a0c06f7ca2c6115c9d9cec98;sid_guard=510372fd07d3b76f085129e78e89d2cf%7C1670776406%7C5183999%7CThu%2C+09-Feb-2023+16%3A33%3A25+GMT;uid_tt=613495296fbe932a8de701f4a223aba791e88d27ed9a0de8cc342f6ce0413925;uid_tt_ss=613495296fbe932a8de701f4a223aba791e88d27ed9a0de8cc342f6ce0413925;sid_tt=510372fd07d3b76f085129e78e89d2cf;sessionid=510372fd07d3b76f085129e78e89d2cf;sessionid_ss=510372fd07d3b76f085129e78e89d2cf;sid_ucp_v1=1.0.0-KDU1ODk0NWZjYmIxOGViYzU4Njc1MjQ2NGI4OTNhZDVjZmU2Y2VlNDAKHwiBgInq6OCGlVsQ1ozYnAYYswsgDDDLu6jZBTgIQAoQAxoGbWFsaXZhIiA1MTAzNzJmZDA3ZDNiNzZmMDg1MTI5ZTc4ZTg5ZDJjZg;ssid_ucp_v1=1.0.0-KDU1ODk0NWZjYmIxOGViYzU4Njc1MjQ2NGI4OTNhZDVjZmU2Y2VlNDAKHwiBgInq6OCGlVsQ1ozYnAYYswsgDDDLu6jZBTgIQAoQAxoGbWFsaXZhIiA1MTAzNzJmZDA3ZDNiNzZmMDg1MTI5ZTc4ZTg5ZDJjZg;store-idc=useast2a;store-country-code=vn;store-country-code-src=uid;tt-target-idc=alisg;tt-target-idc-sign=hr10GP17cbL6yJ2cQNZ3p7My437iCI-BOfYRuzXTdROMYzR46vZBsENIv-8ERQ4XfYvtpYuyAuMsPlnnWDxB0w8zoocoQu5dw-3Z3OUjpFlKdeWgoHCqUJjZMA54q-R5bqfybL0RoaRPwW2h_Kv8e4OsZLGIv3lnd581ea6tSeQ8yPcj1t8EBf2iEWq7wbuNvInaDKNMx56ixtvk4XTyE7yI6CBQq-H1CEcYI1r_Qq4ekUpilYs-GSPv00mDDNXvugovjr4E0r7RVKRMzU9V7N-CHfWnftjyC20V2OJYmwpXQzT5iPRoHV-R75BdZAjDDYkwXsi4KxI2m6cDQ5EKsIpUbq56E0_0Ezi0svCRN8H_V4IIuJfCidGn0jzo-g_seTa94-l0FtBjVJcAOOcpT8QrGfU95AMJhPNC35RRZWocPfJWd2yWrGcrvUULkdBAyLzXrcB3JxAxqVkUkVv49p3kx3JvVZBqo38qj_vgmN7QdzRujSFPl-DgoQejD7JR;ak_bmsc=3AACACF7BAF9E596D9854C41232417B0~000000000000000000000000000000~YAAQHTPqfagCd/eEAQAAg4dyAhIQsMWkgrYqn2pTJ+IaCPxz8406/elSfSZJ73Z6qRdyIU+a7mAQn+nLMvtwY/jjXeRBEdYM2aDqzh6qlpVsLENOzmWaOhkAXxLYKqNX6U5b0EKfWAMqI3N/YXicCXiMVw+J1D2EaZLKukWPCpeeICrVYRFAWWwFVborLZd2w2a1vnf4+0zc2l5izZ8FPFfmEhGa+gUCoBmcZ7pleP+4L3Je2pZLPElA5UWhV2OJGkARw098FxYYNlbd9cSkTgQW/9GexYZj59e/TZvS+uuf++cwOZkGyBNrqhWXf4ysnLBXb33QEzbhuhuji2I41rxcs4lE0aaFy0RoHrepSKBMRDn4qtEPiaDcIXMhp12/IGEAKPZ0b1EwmoIgBkiYiXXtnuLSXlMwkTFPkw5YTw2n39vxSBNM0zZNgugq5Q2abIo7RNrey2TgMGgxuIMo18DUAz7iK3T768Kn+oEtAUZukZlj02IYYyM=;passport_fe_beating_status=true;ttwid=1%7CiNcmU-sy8Wr63fQL5dx1MOj4k_dfetogKGsgG3Z6SkE%7C1670784016%7C0ab86941d8ea7c28b2fbd61293c885520bc3002da75f54ed6bded2a8216b3da8;odin_tt=ac7290b8313c2fdbfa6b5ac0df6f30db6584705111b4c5fcf504d2b6f60464db34136c98939f6ddf73d4f4371766c8eab7d2c33ae981e3961c1cf3729ccdfd64bbe00cc9762808166260ce2026460eea;bm_sv=FB19D22443D5BE633D4A212DCC771C9C~YAAQHTPqfQord/eEAQAAbeR8AhJ74iXj5j/V0u1RC6z8s1K0nsiLZRGMEdrdpYEZ+gf1cSWeSVC+TEQQus+xo0cWC6Wo077R6Zn43gWdoCnBhwErjmY4yoPTfL/k0BiN/DN8o3rhfCJdLFps1+39BzOm2K+LXedZdbhKP5zqYVPTJPwbziI2NLSu1mVOEZHmZ5K8vxnE64K29qQvyLaR600fsZe69xxJcVCzaXPgPmnwY0DOUAilifFvvLQsbwwrhQ==~1;msToken=Rp43OFsp5dhHG9cIm34u3H3XIFmx6Pb4jt47PnPaQc-fe-73sbRGgiwB76Wd4oBsgwHbqpv3SaJOREB0_ZTBxsfDOOhPz6haSenxWw3uKVkexwtdaZYc-KUQcwtBmytn5FiL5_Xcg4UHPaAyFQ==;msToken=Rp43OFsp5dhHG9cIm34u3H3XIFmx6Pb4jt47PnPaQc-fe-73sbRGgiwB76Wd4oBsgwHbqpv3SaJOREB0_ZTBxsfDOOhPz6haSenxWw3uKVkexwtdaZYc-KUQcwtBmytn5FiL5_Xcg4UHPaAyFQ==;imei=;|Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36;`
  };
  var { data } = await axios.get(`https://www.tiktok.com/node/share/user/@${username}?aid=1988`, {
    headers: headers,
  });
  res.json(data);
}